---
const navItems = [
	{ name: 'Home', href: '#home' },
	{ name: 'About Us', href: '#about' },
	{ name: 'Our Services', href: '#services' },
	{ name: 'Our Home', href: '#ourhome' },
	{ name: 'Contact Us', href: '#contact' },
];
---

<nav class="w-full bg-[#733D1A] py-4 fixed top-0 left-0 right-0 z-[100]">
	<div class="flex justify-end items-center px-8 md:px-4">
		<!-- Desktop Navigation -->
		<ul class="hidden md:flex justify-end items-center list-none m-0 gap-8">
				{navItems.map((item) => (
				<li class="m-0">
					<a 
						href={item.href}
						class="text-white no-underline font-bold text-base font-[Arial,sans-serif] transition-colors duration-300 hover:text-[#b0b0b0] cursor-pointer"
						data-nav-link
					>
						{item.name}
					</a>
				</li>
			))}
		</ul>

		<!-- Hamburger Button (Mobile) -->
		<button 
			id="hamburger-btn"
			class="md:hidden text-white focus:outline-none"
			aria-label="Toggle menu"
		>
			<svg 
				class="w-6 h-6" 
				fill="none" 
				stroke="currentColor" 
				viewBox="0 0 24 24"
			>
				<path 
					stroke-linecap="round" 
					stroke-linejoin="round" 
					stroke-width="2" 
					d="M4 6h16M4 12h16M4 18h16"
				/>
			</svg>
		</button>
	</div>

	<!-- Sliding Menu Panel (Mobile) -->
	<div 
		id="mobile-menu"
		class="fixed top-0 right-0 h-full w-80 bg-[#733D1A] transform translate-x-full transition-transform duration-300 ease-in-out z-[100] md:hidden"
	>
		<div class="flex flex-col h-full">
			<!-- Close Button -->
			<div class="flex justify-end p-6">
				<button 
					id="close-btn"
					class="text-white focus:outline-none"
					aria-label="Close menu"
				>
					<svg 
						class="w-6 h-6" 
						fill="none" 
						stroke="currentColor" 
						viewBox="0 0 24 24"
					>
						<path 
							stroke-linecap="round" 
							stroke-linejoin="round" 
							stroke-width="2" 
							d="M6 18L18 6M6 6l12 12"
						/>
					</svg>
				</button>
			</div>

			<!-- Navigation Items -->
			<ul class="flex flex-col list-none m-0 p-6 gap-6">
				{navItems.map((item) => (
					<li>
						<a 
							href={item.href}
							class="text-white no-underline font-bold text-lg font-[Arial,sans-serif] transition-colors duration-300 hover:text-[#b0b0b0] block py-2"
							data-nav-link
						>
							{item.name}
						</a>
					</li>
				))}
			</ul>
		</div>
	</div>

	<!-- Overlay (Mobile) -->
	<div 
		id="menu-overlay"
		class="fixed inset-0 bg-white bg-opacity-30 opacity-0 invisible transition-opacity duration-300 z-[90] md:hidden"
	></div>
</nav>

<script>
	const hamburgerBtn = document.getElementById('hamburger-btn');
	const closeBtn = document.getElementById('close-btn');
	const mobileMenu = document.getElementById('mobile-menu');
	const menuOverlay = document.getElementById('menu-overlay');

	function openMenu() {
		mobileMenu?.classList.remove('translate-x-full');
		menuOverlay?.classList.remove('opacity-0', 'invisible');
		menuOverlay?.classList.add('opacity-100', 'visible');
		document.body.style.overflow = 'hidden';
	}

	function closeMenu() {
		mobileMenu?.classList.add('translate-x-full');
		menuOverlay?.classList.remove('opacity-100', 'visible');
		menuOverlay?.classList.add('opacity-0', 'invisible');
		document.body.style.overflow = '';
	}

	hamburgerBtn?.addEventListener('click', openMenu);
	closeBtn?.addEventListener('click', closeMenu);
	menuOverlay?.addEventListener('click', closeMenu);

	// Handle navigation link clicks (both desktop and mobile)
	const allNavLinks = document.querySelectorAll('[data-nav-link]');
	
	allNavLinks.forEach(link => {
		link.addEventListener('click', (e) => {
			const href = link.getAttribute('href');
			// Only handle anchor links
			if (href && href.startsWith('#')) {
				e.preventDefault();
				const targetId = href.substring(1);
				const targetElement = document.getElementById(targetId);
				
				if (targetElement) {
					// Close mobile menu if open
					closeMenu();
					
					// Smooth scroll to target
					const navHeight = document.querySelector('nav')?.offsetHeight || 0;
					const targetPosition = targetElement.offsetTop - navHeight;
					
					window.scrollTo({
						top: targetPosition,
						behavior: 'smooth'
					});
				}
			} else {
				// For non-anchor links, just close menu
				closeMenu();
			}
		});
	});

	// Close menu on escape key
	document.addEventListener('keydown', (e) => {
		if (e.key === 'Escape' && !mobileMenu?.classList.contains('translate-x-full')) {
			closeMenu();
		}
	});
</script>